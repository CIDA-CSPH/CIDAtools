<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="CIDAtools">
<title>Cron Jobs • CIDAtools</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cron Jobs">
<meta property="og:description" content="CIDAtools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">CIDAtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/CIDA_computing_resources.html">CIDA Computing Resources</a>
    <a class="dropdown-item" href="../articles/alpine.html">Alpine HPC</a>
    <a class="dropdown-item" href="../articles/cron-jobs.html">Cron Jobs</a>
    <a class="dropdown-item" href="../articles/data_storage.html">CIDA-data-storage-guidelines</a>
    <a class="dropdown-item" href="../articles/git.html">Tracking code in Git/GitHub</a>
    <a class="dropdown-item" href="../articles/sas-macros.html">CIDA SAS Macros</a>
    <a class="dropdown-item" href="../articles/table1.html">Table 1</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Cron Jobs</h1>
                        <h4 data-toc-skip class="author">Research Tools
Committee</h4>
            
            <h4 data-toc-skip class="date">2023-07-01</h4>
      
      
      <div class="d-none name"><code>cron-jobs.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="cron-jobs">Cron Jobs<a class="anchor" aria-label="anchor" href="#cron-jobs"></a>
</h2>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>This document provides some description on how to run cron jobs on
the biostats server (a computation server that part of the Dept. of
Biostatistics and Informatics). The idea of a cron job is that allows a
user to schedule when a piece of code is executed. The biostats server
is an ideal place to run these as this “computer” is always on and thus
it removes the need of an analyst to worry about having their personal
computer running when it is time to execute the code.</p>
<p>Who does this apply to: All members of CIDA (Professor, RA, RI,
Senior RI, PRA, Senior PRA)</p>
</div>
<div class="section level3">
<h3 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h3>
<p>None at this time</p>
</div>
<div class="section level3">
<h3 id="accessing-the-biostats-server">Accessing the biostats server<a class="anchor" aria-label="anchor" href="#accessing-the-biostats-server"></a>
</h3>
<p>To gain access to the biostats server contact the Research Tools
Committee. This is available to all members of CIDA.</p>
</div>
<div class="section level3">
<h3 id="steps-to-a-run-cron-job">Steps to a Run Cron Job<a class="anchor" aria-label="anchor" href="#steps-to-a-run-cron-job"></a>
</h3>
<p>The following is specific to the CIDA biostats server which is based
in Linux. Although these steps may seem complicated, most of this only
needs to be set up once and the Research Tools Committee is happy to
help with this.</p>
<p>The following example will use a cron job to execute a simple python
script, <code>cron.py</code>, that generates a small array of data and
then saves it.</p>
<pre><code>import time
import numpy as np

a = [1,2,3,4]
np.save(f"{time.time()}.npy",a)</code></pre>
<p>This script will be called by a separate bash script,
<code>cron.sh</code>. Note that cron jobs could be run directly on the
<code>cron.py</code> file, however bash script allows the user to
provide some extra information to the system to make sure the script is
run in the proper environment.</p>
<pre><code>#!/bin/bash

# set to use the desired python Anaconda distibution 
export PATH=/home/biostats_share/mancchri/anaconda3/bin:$PATH
# make sure the system know to be in the directory below
cd /home/biostats_share/mancchri/test_cron
# run the script below
python cron.py</code></pre>
<p>To setup the cronjob we need to access the crontab, which is the file
that stores active cron jobs for a specific user. Enter this file by
running</p>
<p><code>crontab -e</code></p>
<p>Each line in this file will specify a different cron job. To run
<code>cron.sh</code> every minute add the following to the crontab file.
Note, writing to files on Linux can be daunting, but the Research Tools
Committee can help with this!</p>
<p><code>*/1 * * * * /home/biostats_share/mancchri/test_cron/cron.sh</code></p>
<p>To view the list of current cron jobs in crontab use</p>
<p><code>crontab -l</code></p>
<p>To delete the cron job so it no longer execute use</p>
<p><code>crontab -r</code></p>
</div>
<div class="section level3">
<h3 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h3>
<p>Information on how to use cron job, especially how to set jobs to run
on a given interval see the following</p>
<p><a href="https://tecadmin.net/crontab-in-linux-with-20-examples-of-cron-schedule/" class="external-link uri">https://tecadmin.net/crontab-in-linux-with-20-examples-of-cron-schedule/</a><br><a href="https://crontab.guru/examples.html" class="external-link uri">https://crontab.guru/examples.html</a></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by CIDA Research Tools Committee.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
